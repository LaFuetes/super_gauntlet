<div class="container">
    <div class="starter-template col-md-6">
        <h1>Super Gauntlet
            <small>Cleric</small>
        </h1>
        <img src="http://placehold.it/500x150" alt="...">
        <blockquote>
            <p>He who walks the path of holy light is blessed with eternal life. He who wanders to evil's blight is cursed with doom of eternal life.</p>
            <small>a wondering bard in Azeroth<cite title="Sourc
                        e Title">Source Title</cite></small>
        </blockquote>


        <p>There are 2 ways to build your Cleric. Blood of
        </p>
        <br />
        <br />
        <h4>Default Cleric Characteristics</h4>
        <table class="table table-bordered">
            <tr>
                <th>Build</th>
                <th>Strengths</th>
                <th>Weaknesses</th>
                <th>Abilities</th>
                <th>Stats</th>
            </tr>

            <tr>
                <td>Holy</td>
                <td>Defense</td>
                <td>Offence</td>
                <td>Motivate, Heal, Barrior, Inspire</td>
                <td>Wis, Dex</td>
            </tr>
            <tr>
                <td>Necromancer</td>
                <td>Death  </td>
                <td>Defence</td>
                <td>Bleed, Enrage, Fury, Raise Dead, Corpse Explode</td>
                <td>Wis, Int</td>
            </tr>
        </table>
        <br />
        <h4>Skill Options </h4>

        <p>
            Motivate: Gives AOE bonus to base attack
        </p>
        <p>
            Heal: Heal single targets large amounts. Large cooldown.
        </p>
        <p>
            Barrior: Gives target defence bonus. Medium cooldown.
        </p>
        <p>
            Inspire: In a zone around you heal pla
        </p>

        <p>
            Bleed: DoT single target. spell.
        </p>
        <p>
            Enrage: Lower enimies defence significantly, but also increase strength.
        </p>
        <p>
            Fury: Gives teammates around you Base damage bonus
        </p>
        <p>
            Raise Dead(floor 3): Raise a corpse to fight for you. Low cooldown.
        </p>
        <p>
            Corpse Explode: Massive damage to all targets around a corpse you control. High.
        </p>
        <p>
            Curse of life: Heal allys and damage opponents in a zone around you.
        </p>


     
    </div>
    <div class="starter-template col-md-6">
        <h1>Customize <small>Cleric</small></h1>
        <hr />
        <form class="form-horizontal" id="customization-form" method="get" action="">
            <div class="form-group">
                <label for="userName" class="col-lg-2 sg-control-label">Username</label>
                <div class="col-lg-10">
                    <input type="text" class="form-control" id="userName" placeholder='Username (example: "Mardul-Thar")'>
                </div>
            </div>
            <div class="username-error"><strong class="text-danger"></strong></div>
            <hr />
            <div class="form-group">
                <h4>Ability Scores<small>Choose Wisely</small></h4>
                <p class="help-block">Increase your core abilities as you see fit.
                    You have 6 points to divide among your Strength, Dexterity,
                    and Constitution. These additional points will
                    be added to your class' base ability scores.
                </p>
            </div>
            <strong>Strength</strong>
            <div class="form-group">
                <label for="str" class="col-lg-offset-1 col-lg-3 sg-help-block">Base 14 +</label>
                <div class="col-lg-2">
                    <input  class="form-control number-required" id="str" type="text">
                </div>
            </div>
            <strong>Dexterity</strong>
            <div class="form-group">
                <label for="dex" class="col-lg-offset-1 col-lg-3 sg-help-block">Base 10 +</label>
                <div class="col-lg-2">
                    <input type="text" class="form-control number-required" id="dex" type="text">
                </div>
            </div>
            <strong>Constitution</strong>
            <div class="form-group">
                <label for="con" class="col-lg-offset-1 col-lg-3 sg-help-block">Base 14 +</label>
                <div class="col-lg-2">
                    <input type="text" class="form-control number-required" id="con" type="text">
                </div>
            </div>
            <strong>Wisdom</strong>
            <div class="form-group">
                <label for="wis" class="col-lg-offset-1 col-lg-3 sg-help-block">Base 14 +</label>
                <div class="col-lg-2">
                    <input type="text" class="form-control number-required" id="wis" type="text">
                </div>
            </div>
            <strong>Int</strong>
            <div class="form-group">
                <label for="itl" class="col-lg-offset-1 col-lg-3 sg-help-block">Base 14 +</label>
                <div class="col-lg-2">
                    <input type="text" class="form-control number-required" id="itl" type="text">
                </div>
            </div>
            <div class="abilities-error"><strong class="text-danger"></strong></div>
            <hr />
            <div class="row">
                <h4>Items <small>Choose Wisely</small></h4>
                <div class="col-lg-6">
                    <form class="col-lg-6">
                        <h5><strong>Weapon</strong></h5>
                        <div class="radio">
                            <label class="help-block">
                                <input type="radio" name="optionsRadios" id="weapon1" value="option1" checked>Weapon One
                            </label>
                        </div>
                        <div class="radio">
                            <label class="help-block">
                                <input type="radio" name="optionsRadios" id="weapon2" value="option2">Weapon Two
                            </label>
                        </div>
                    </form>
                </div>
                <div class="col-lg-6">
                    <form>
                        <h5><strong>Magic Item</strong></h5>
                        <div class="radio">
                            <label class="help-block">
                                <input type="radio" name="optionsRadios" id="magicItem1" value="option1" checked>Magic Item One
                            </label>
                        </div>
                        <div class="radio">
                            <label class="help-block">
                                <input type="radio" name="optionsRadios" id="magicItem2" value="option2">Magic Item Two
                            </label>
                        </div>
                    </form>
                </div>
            </div>
            <hr />
            <div class="form-group pull-right spacer">
                <p>
                    <button id="submit" class="btn btn-primary btn-lg">Submit</button>
                    <a href="#gameView"  id="joinGame" class="btn btn-default btn-lg disabled">Join Game</a>
                </p>
            </div>
        </form>

    </div>
</div>

<script>

    function initializeCleric(){
        var name = $("#userName").val(),
                str = parseInt($("#str").val()),
                con = parseInt($("#con").val()),
                dex = parseInt($("#dex").val()),
                wis = parseInt($("#wis").val()),
                itl = parseInt($("#itl").val());

        window.localPlayer = new Player();
        localPlayer.set({username: name});
        localPlayer.set({role: 3});
        localPlayer.set({str: 14 + str});
        localPlayer.set({con: 10 + con});
        localPlayer.set({dex: 14 + dex});
        localPlayer.set({wis: 14 + wis});
        localPlayer.set({itl: 14 + itl});
        localPlayer.set({speed: localPlayer.get("speed") + ((10 + dex)/2)});
        localPlayer.set({ac: localPlayer.get("ac") + ((10 + dex)/2)});
        localPlayer.set({hp: localPlayer.get("hp") + (localPlayer.get("level") * (((14 + con)/2) + 8))});
        console.log($('#weapon1').is(':checked'));
        if ($('#weapon1').is(':checked')){
            localPlayer.set({weapon: "weapon1"});
        } else {
            localPlayer.set({weapon: "weapon2"});
        }
        console.log($('#magicItem1').is(':checked'));
        if ($('#magicItem1').is(':checked')){
            localPlayer.set({items: "magicItem1"});
        } else {
            localPlayer.set({items: "magicItem2"});
        }

        console.log(localPlayer.toJSON());
    }

    $(document).ready(function(){

        var notValid = true;

        $("#userName").blur(function(){
            if(this.value == ''){
                $(this).closest('.form-group').removeClass('has-success').addClass('has-error');
                $(".username-error").addClass('show').removeClass('hide');
            } else {
                $(this).closest('.form-group').removeClass('has-error').addClass('has-success');
                $(".username-error").addClass('hide').removeClass('show');
            }
        });

        $(".number-required").blur(function(){
            var regExp = /^(\d|,)+$/;
            var total = parseInt($("#str").val()) + parseInt($("#dex").val()) + parseInt($("#con").val()) + parseInt($("#wis").val()) + parseInt($("#itl").val());

            if(!(regExp.test(parseInt($(this).val())))){
                $(this).closest('.form-group').removeClass('has-success').addClass('has-error');
                $("#customization-form div.abilities-error strong.text-danger").html("You may only enter numbers for your ability scores.");
            } else {
                $(this).closest('.form-group').removeClass('has-error').addClass('has-success');
                $("#customization-form div.abilities-error strong.text-danger").html("");
            }
        });

        $("#submit").click(function(){
            console.log('clicked next button.');

            var total = parseInt($("#str").val()) + parseInt($("#dex").val()) + parseInt($("#con").val()) + parseInt($("#wis").val()) + parseInt($("#itl").val());
            console.log("total = " + total);

            if(total != 6){
                $(".number-required").closest('.form-group').removeClass('has-success').addClass('has-error');
                $("#customization-form div.abilities-error strong.text-danger").html("Your ability score fields must sum to 6.");
            } else {
                $(".number-required").closest('.form-group').removeClass('has-error').addClass('has-success');
                $("#customization-form div.abilities-error strong.text-danger").html("");
            }

            if($("#userName").val() == ''){
                $("#userName").closest('.form-group').removeClass('has-success').addClass('has-error');
                $("#userName").closest('label.control-label').removeClass('has-error');
                $("#customization-form div.username-error strong.text-danger").html("You must enter a username.");
            }

            if(total == 6 && $("#userName").val() != ''){
                notValid = false;
                $('#joinGame').removeClass('disabled');
            }

        });

        $('#joinGame').click(function(e) {
            if(notValid){
                e.preventDefault();
            } else {
                initializeCleric();
            }
        });

    });

</script>




